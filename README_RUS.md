# Компактный программный таймер для агрдуино (и других микроконтроллеров)

Каждый экземпляр таймера занимает 2 или 4 байта. Не использует аппаратный таймер и не использует прерывания. Таймеры имеют разные режимы точности. Количество таймеров не ограничено.

## Пример:
````
csTimer myTimer;

void setup() {
  myTimer.start(1000);
}

void loop() {
  if (myTimer.run()) {
    println(F("Tick"));
    myTimer.start(1000);
  }
}

````

## Пример 2 - с использованием указания времени по умолчанию:
````
csTimerDef<1000> myTimer;

void setup() {
  myTimer.start();
}

void loop() {
  if (myTimer.run()) {
    println(F("Tick"));
    myTimer.start();
  }
}

````

## Описание

Таймер может находиться в двух состояниях - запущен или остановлен.
Таймер при создании находиться в состоянии остановлен.

Чтобы запустить таймер, необходимо вызвать функцию "**start**", а в параметрах указать требуемое время работы (в миллисекундах).
На каждом цикле (loop) должна быть вызвана функция "**run**" (для каждого экземпляра таймера).

Если функция "**run**" возвращает **True**, то значит что таймер отработал свое время. Если его время еще не пришло - он вернется **False**.

После сработки таймер переходит в остановленное состояние. Если необходимо снова запустить таймер, необходимо повторно вызвать функцию "**start**" (см. Примеры).
Если таймер остановлен, вызов "**run**" всегда вернет **False**.

Если вы используете эти таймеры, старайтесь не использовать функцию "delay".
Вы не можете вызвать "**run**" дважды в одном _экземпляре_ таймера за одно сканирование - второй вызов не будет работать.
Вы не должны "скрывать" вызов функции "**run**" в условии (см. Примеры).

## Документация

Классы таймеров:

1) **csTimer** - большой таймер, максимальная длина - 12 дней. Размер - 4 байта.

2) **csTimerShort** - короткое время, максимальная длина - 16 секунд. Размер - 2 байта.

3) **csTimerDef** - аналог csTimer, но с поддержкой времени по умолчанию. Размер - 4 байта.

4) **csTimerShortDef** - аналог csTimerShort, но с поддержкой времени по умолчанию. Размер - 2 байта.

Функции в классах (для всех классов):

**запуск** - запуск таймера. Если таймер уже работает, таймер перезапускается.

**startOnce** - Таймер запуска. Если таймер уже работает, перезапуск не происходит.

**остановка** - остановка по таймеру.

**включен** - читать статус таймера. если запущено, возвращает True.

**Выполнить** - Основная функция. Должен быть вызван в каждом цикле. Если таймер сработал, то True возвращается один раз.

### Расширенные функции

**getFlag** - Читать бит флага пользователя. Если флаг не поддерживается, False всегда возвращается.
Некоторые классы таймера могут содержать пользовательский флаг, который пользователь использует по своему усмотрению.

**setFlag** - запись в бит флага пользователя.


